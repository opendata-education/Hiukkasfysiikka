
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>1. Laske invariantti massa &#8212; Hiukkasfysiikka</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=62ba249389abaaa9ffc34bf36a076bdc1d65ee18" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=f31d14ad54b65d19161ba51d4ffff3a77ae00456"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="canonical" href="https://opendata-education.github.io/Hiukkasfysiikka/intro.html/harjoitukset/01_LaskeInvarianttiMassa.html" />
    <link rel="shortcut icon" href="../_static/logo.png"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="2. Histogrammin piirto" href="02_HistogramminPiirto.html" />
    <link rel="prev" title="Alkeet" href="alkeet.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../_static/logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Hiukkasfysiikka</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../intro.html">
                    Tervetuloa avoimen datan pariin
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="tutustu_aiheeseen.html">
   Tutustu aiheeseen
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="1_HiukkasfysiikanTutkimus.html">
     Mitä on hiukkasfysiikka?
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="cms_data.html">
     CMS ja avoin data
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="alkeet.html">
   Alkeet
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     1. Laske invariantti massa
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="02_HistogramminPiirto.html">
     2. Histogrammin piirto
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="03_DatanValitseminenHistogrammiin.html">
     3. Datan valitseminen histogrammiin
    </a>
   </li>
  </ul>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<div class="menu-dropdown menu-dropdown-launch-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Launch interactive content">
      <i class="fas fa-rocket"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://mybinder.org/v2/gh/opendata-education/Hiukkasfysiikka/main?urlpath=tree/materiaali/harjoitukset/01_LaskeInvarianttiMassa.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Launch on Binder"
>
  

<span class="headerbtn__icon-container">
  
    <img src="../_static/images/logo_binder.svg">
  </span>
<span class="headerbtn__text-container">Binder</span>
</a>

      </li>
      
      <li>
        <a href="https://colab.research.google.com/github/opendata-education/Hiukkasfysiikka/blob/main/materiaali/harjoitukset/01_LaskeInvarianttiMassa.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Launch on Colab"
>
  

<span class="headerbtn__icon-container">
  
    <img src="../_static/images/logo_colab.png">
  </span>
<span class="headerbtn__text-container">Colab</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-repository-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Source repositories">
      <i class="fab fa-github"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://github.com/opendata-education/Hiukkasfysiikka"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Source repository"
>
  

<span class="headerbtn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="headerbtn__text-container">repository</span>
</a>

      </li>
      
      <li>
        <a href="https://github.com/opendata-education/Hiukkasfysiikka/issues/new?title=Issue%20on%20page%20%2Fharjoitukset/01_LaskeInvarianttiMassa.html&body=Your%20issue%20content%20here."
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Open an issue"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="headerbtn__text-container">open issue</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="../_sources/harjoitukset/01_LaskeInvarianttiMassa.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.ipynb</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#mika-on-invariantti-massa">
   Mikä on invariantti massa?
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#datan-hakeminen">
     Datan hakeminen
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#invariantin-massan-laskeminen">
     Invariantin massan laskeminen
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#lahteet">
     Lähteet
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#kuvat">
     Kuvat
    </a>
   </li>
  </ul>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>1. Laske invariantti massa</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#mika-on-invariantti-massa">
   Mikä on invariantti massa?
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#datan-hakeminen">
     Datan hakeminen
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#invariantin-massan-laskeminen">
     Invariantin massan laskeminen
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#lahteet">
     Lähteet
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#kuvat">
     Kuvat
    </a>
   </li>
  </ul>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section class="tex2jax_ignore mathjax_ignore" id="laske-invariantti-massa">
<h1>1. Laske invariantti massa<a class="headerlink" href="#laske-invariantti-massa" title="Permalink to this headline">#</a></h1>
<p>Tässä tehtävässä opetellaan laskemaan CMS-ilmaisimessa havaittujen hiukkasten <strong>invariantti massa</strong>. Invariantti massa on hiukkasfyysikoille tärkeä työkalu hiukkasten tunnistamisessa.</p>
<section id="mika-on-invariantti-massa">
<h2>Mikä on invariantti massa?<a class="headerlink" href="#mika-on-invariantti-massa" title="Permalink to this headline">#</a></h2>
<p>Hiukkasilla on nille ominainen massa, joka kuvaa hiukkasen hitautta. Se on sama massa <span class="math notranslate nohighlight">\(m\)</span> jota käytetään Newtonin toisessa laissa <span class="math notranslate nohighlight">\(F=ma\)</span> ja Einsteinin yhtälössä <span class="math notranslate nohighlight">\(E=mc^2\)</span> (missä E viittaa hiukkasen energiaan levossa). On mahdoton ajatus punnita esimerkiksi Higgsin hiukkasta jonka eliniänodote on luokkaa <span class="math notranslate nohighlight">\(10^{-22}\)</span> sekuntia [4]. Kun hiukkanen, vaikkapa Higgsin hiukkanen hajoaa, syntyy jälleen uusia hiukkasia. Hiukkasen hajoamisesta sinkoilevat uudet hiukkaset taas saattavat kulkea jopa valonnopeudella eikä niillä välttämättä edes ole massaa (esim. fotonit). CMS:n kaltainen laite voi kuitenkin mitata näiden hiukkasten liikemäärää ja energiaa, joiden avulla voidaan laskea <em>invariantti massa</em>. Se on matemaattinen arvo joka on “invariantti” mittausympäristölle, eli se voidaan laskea missä ja mille tahansa. Jos sen kuitenkin laskee tietystä hajoamisesta syntyneille tytärhiukkasille saadaan arvo joka on lähellä emohiukkasen massaa. Esimerkiksi Higgsin hiukkanen voi hajota neljäksi elektroniksi, joiden liikemäärän ja energian voimme mitata hiukkasilmaisimella. Näiden neljän elektronin liikemäärästä ja energiasta voimme laskea invariantin massan, joka vastaisi Higgsin hiukkasen massaa, sillä elektronit ovat peräisin Higgsistä.</p>
<p>Invariantti massa siis säilyy hiukkasen hajotessa uusiksi hiukkasiksi. Tämän ominaisuuden ansiosta se on voittamaton työkalu kokeellisen hiukkasfysiikan tutkijoille. Hiukkasilmaisin, kuten CMS, havaitsee lähinnä stabiileja hiukkasia. Määrittääkseen sen, minkä hiukkasen hajoamisesta nuo stabiilit hiukkaset ovat peräisin, tutkijoiden tulee tarkastella suuria datamääriä. Voimme laskea invariantin massan usealle eri hajoamistapahtumalle ja piirtää kaikista laskemistamme invarianteista massoista histogrammi.
<a class="reference external" href="https://profmattstrassler.com/articles-and-posts/particle-physics-basics/mass-energy-matter-etc/mass-and-energy/">Lisätietoa englanniksi</a></p>
<p>Alla olevassa kuvassa on piirretty invariantin massan histogrammi sellaisista törmäyksistä, joissa hiukkasilmaisin on havainnut kaksi myonia. Piikit histogrammissa vastaavat emohiukkasta, josta myonit ovat peräisin.</p>
<br>
 <img src="https://github.com/cms-opendata-education/cms-jupyter-materials-finnish/blob/master/Kuvat/inv_massa.PNG?raw=true"  align="left" width="600px" title="[Kuva 1]  Törmäyksestä syntyneiden kahden myonin invariantin massan jakauma vuosilta 2017 ja 2018. Jakaumasta erottaa selvästi niiden hiukkasten piikit jotka voivat hajota kahdeksi myoniksi.">
 <br><hr class="docutils" />
<section id="datan-hakeminen">
<h3>Datan hakeminen<a class="headerlink" href="#datan-hakeminen" title="Permalink to this headline">#</a></h3>
<p>Tarkoituksenamme on piirtää invariantin massan histogrammi CMS:n avoimesta datasta vuodelta 2011. Dataan on valikoitu tapahtumia joissa syntyy kaksi suurienergistä myonia [1]. Data on tallennettu csv muotoon tiodostoon ‘Zmumu_Run2011A.csv’[2]. Histogrammin piirtämistä varten meidän tulee kuitenkin laskea jokaiselle tapahtumalle invariantti massa. Alustetaan lasku hakemalla käyttämämme data sekä tarvittavat moduulit (eli koodikirjastot, jotka mahdollistavat valmiiksi määriteltyjen funktioiden käytön).</p>
<p>Muista. että voit ajaa koodisolun klikkaamalla sen aktiiviseksi ja painamalla CTRL+ENTER.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Haetaan tarvittavat moduulit. Nimetään pandas-moduuli &#39;pd&#39;ksi ja numpy-moduuli &#39;np&#39;ksi, jotta koko nimeä ei</span>
<span class="c1"># tarvitse kirjoittaa aina, kun haluamme käyttää jotain funktiota kyseisestä moduulista.</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="c1"># Haetaan data ja tallennetaan se muuttujaan &#39;datasetti&#39;. Data voidaan hakea tiedostosta pandas-moduulin</span>
<span class="c1"># read_csv() -funktiolla. Sulkeiden sisään kirjoitetaan datatiedoston polku.</span>
<span class="n">datasetti</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;https://raw.githubusercontent.com/cms-opendata-education/cms-jupyter-materials-finnish/master/Data/Zmumu_Run2011A.csv&#39;</span><span class="p">)</span> <span class="c1">#(&#39;../../Data/Zmumu_Run2011A.csv&#39;)</span>
</pre></div>
</div>
</div>
</div>
<p>Saamme tarkistettua tallentamamme datan sisällön tulostamalla tiedoston viisi ensimmäistä riviä alla olevalla koodilla:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># head() -metodi näyttää datan viisi ensimmäistä riviä. </span>

<span class="n">datasetti</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Run</th>
      <th>Event</th>
      <th>pt1</th>
      <th>eta1</th>
      <th>phi1</th>
      <th>Q1</th>
      <th>dxy1</th>
      <th>iso1</th>
      <th>pt2</th>
      <th>eta2</th>
      <th>phi2</th>
      <th>Q2</th>
      <th>dxy2</th>
      <th>iso2</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>165617</td>
      <td>74969122</td>
      <td>54.7055</td>
      <td>-0.432396</td>
      <td>2.574210</td>
      <td>1</td>
      <td>-0.074544</td>
      <td>0.499921</td>
      <td>34.2464</td>
      <td>-0.988480</td>
      <td>-0.498704</td>
      <td>-1</td>
      <td>0.071222</td>
      <td>3.42214</td>
    </tr>
    <tr>
      <th>1</th>
      <td>165617</td>
      <td>75138253</td>
      <td>24.5872</td>
      <td>-2.052200</td>
      <td>2.866570</td>
      <td>-1</td>
      <td>-0.055437</td>
      <td>0.000000</td>
      <td>28.5389</td>
      <td>0.385163</td>
      <td>-1.991170</td>
      <td>1</td>
      <td>0.051477</td>
      <td>0.00000</td>
    </tr>
    <tr>
      <th>2</th>
      <td>165617</td>
      <td>75887636</td>
      <td>31.7386</td>
      <td>-2.259450</td>
      <td>-1.332290</td>
      <td>-1</td>
      <td>0.087917</td>
      <td>0.000000</td>
      <td>30.2344</td>
      <td>-0.468419</td>
      <td>1.883310</td>
      <td>1</td>
      <td>-0.087639</td>
      <td>0.00000</td>
    </tr>
    <tr>
      <th>3</th>
      <td>165617</td>
      <td>75779415</td>
      <td>39.7394</td>
      <td>-0.712338</td>
      <td>-0.312266</td>
      <td>1</td>
      <td>0.058481</td>
      <td>0.000000</td>
      <td>48.2790</td>
      <td>-0.195625</td>
      <td>2.970320</td>
      <td>-1</td>
      <td>-0.049201</td>
      <td>0.00000</td>
    </tr>
    <tr>
      <th>4</th>
      <td>165617</td>
      <td>75098104</td>
      <td>41.2998</td>
      <td>-0.157055</td>
      <td>-3.040770</td>
      <td>1</td>
      <td>-0.030463</td>
      <td>1.228040</td>
      <td>43.4508</td>
      <td>0.590958</td>
      <td>-0.042756</td>
      <td>-1</td>
      <td>0.044175</td>
      <td>0.00000</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Haetussa datassa on monta tapahtumaa (event), joista jokaisesta on tallennettu useita arvoja. Tehtävän kannalta oleellisimpia ovat,</p>
<ul class="simple">
<li><p><strong>Run</strong> ja <strong>Event</strong> : kertovat mistä törmäyksestä kyseisen rivin data on peräisin.</p></li>
<li><p><strong>pt</strong> : <span class="math notranslate nohighlight">\(p_T\)</span> on kyseisen myonin (1 tai 2) kohtisuora liikemäärä hiukkassuihkua vastaan.</p></li>
<li><p><strong>eta</strong> : <span class="math notranslate nohighlight">\(\eta\)</span> on pseudorapiditeetti, johon palataan tarkemmin tehtävissä 5 ja 6</p></li>
<li><p><strong>phi</strong> : <span class="math notranslate nohighlight">\(\phi\)</span> (atsimuuttikulma) on kulma jonka suuntaa hiukkanen kulkee jos detektoria tarkastellaan hiukkassuihkun akselilta</p></li>
<li><p><strong>Q</strong> : on myonin varaus. Jokaisessa dataan valitussa törmäyksessä syntyy myoni ja antimyoni (<span class="math notranslate nohighlight">\(\mu^+ , \mu^-\)</span>) [1].</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="invariantin-massan-laskeminen">
<h3>Invariantin massan laskeminen<a class="headerlink" href="#invariantin-massan-laskeminen" title="Permalink to this headline">#</a></h3>
<p>Käytetään laskussa seuraavaa lauseketta invariantille massalle <span class="math notranslate nohighlight">\(M\)</span>. Lausekkeessa <span class="math notranslate nohighlight">\(p_T\)</span> on liikemäärän hiukkassuihkua vastaan kohtisuora komponentti, <span class="math notranslate nohighlight">\(\eta\)</span> pseudorapiditeetti ja <span class="math notranslate nohighlight">\(\phi\)</span> atsimuuttikulma:</p>
<div class="math notranslate nohighlight">
\[M = \sqrt{2p_{T1}p_{T2}(\cosh(\eta_1-\eta_2)-\cos(\phi_1-\phi_2))}.\]</div>
<p>Edellinen yhtälö tosin on approksimaatio tilanteisiin, joissa E &gt;&gt; m (kuten kiihdyttimissä tuppaa olemaan). Onnekkaasti invariantin massan voi laskea tarkkaan myös kaavalla</p>
<div class="math notranslate nohighlight">
\[ M = \sqrt{(E_1 + E_2)^2 - \|\textbf{p}_1 + \textbf{p}_2 \| ^2},\]</div>
<p>missä <span class="math notranslate nohighlight">\(\textbf{p}\)</span> siis sisältää liikemäärän kaikki komponentit. Todennäköisesti törmäät tähän tapaan muissa harjoituksissa. Tällä kertaa käytetään kuitenkin ylempää kaavaa, sillä kaikki sen muuttujat löytyvät hakemastamme datasta suoraan.</p>
<p>Alla olevassa laskussa käytämme apuna <em>numpy</em>-moduulia, jonka nimesimme yllä <em>np</em>:ksi. Moduulin avulla voimme suorittaa matemaattisia komentoja, esimerkiksi <em>sqrt</em> ja <em>cosh</em> kutsumalla ensin moduulin nimeä ja pisteellä erottaen komentoa (esimerkiksi <em>np.sqrt</em>). Koodissa esiintyvät pt1, pt2, eta1, eta2, phi1 ja phi2 viittaavat hakemamme datan suureiden nimiin.</p>
<p>Nyt voimme laskea invariatin massan arvot eri tapahtumille. <em>Numpy</em>-moduuli osaa atuomaattisesti laskea arvot kaikille tapahtumille, kun annamme laskun sille muodossa, jossa esiintyy yllä mainitut viitteet suureiden nimiin. Tällöin siis lasku lasketaan jokaiselle riville erikseen.</p>
<p>Tehtävänäsi on kirjoittaa koodi, joka laskee invariantin massan datan sisältämistä parametreista. Apuna voit käyttää numpy-moduulia. Oheisesta taulukosta näet, miten voit kirjoittaa kaavassa tarvittavat funktiot numpy-moduulin avulla (laita funktion argumentti sulkeiden sisään):</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="text-align:left head"><p>Funktio</p></th>
<th class="text-align:left head"><p>Numpy-merkintä</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-align:left"><p>neliöjuuri</p></td>
<td class="text-align:left"><p>np.sqrt()</p></td>
</tr>
<tr class="row-odd"><td class="text-align:left"><p>kosini</p></td>
<td class="text-align:left"><p>np.cos()</p></td>
</tr>
<tr class="row-even"><td class="text-align:left"><p>hyperbolinen kosini</p></td>
<td class="text-align:left"><p>np.cosh()</p></td>
</tr>
</tbody>
</table>
<p>Datassa esiintyviin muuttujiin pääset käsiksi kirjoittamalla ‘<em>datasetti.muuttuja</em>’. Esimerkiksi, jos haluat valita datasetistä kaikki myonin 1 pseudorapiditeetin arvot, voit kirjoittaa koodisoluun ‘<em>datasetti.eta1</em>’.</p>
<blockquote>
<div><p>Laske kaikille tapahtumille invariantti massa ja tallenna ne muuttujaan ‘invariantti_massa’
<br>
<span class="math notranslate nohighlight">\(\color{purple}{\text{Kirjoita koodi alle}}\)</span></p>
</div></blockquote>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Laske invariantti massa ja tallenna muuttujana invariantti_massa</span>
</pre></div>
</div>
</div>
</div>
<blockquote>
<div><p>Tarkasta aiemmin käytetyn head() -metodin avulla, mitä muuttuja <em>invariantti_massa</em> nyt sisältää.
<br>
<span class="math notranslate nohighlight">\(\color{purple}{\text{Kirjoita koodi alle}}\)</span></p>
</div></blockquote>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Tulosta näytölle muuttujan invariantti_massa viisi ensimmäistä riviä</span>
</pre></div>
</div>
</div>
</div>
<p>Aja alla oleva koodi nähdäksesi invariantin massan histogrammi laskemistasi arvoista. Histogrammin piirtämiseen palataan tarkemmin harjoituksessa 2.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">invariantti_massa</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">60</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Kahden myonin invariantti massa&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Invariantti massa (GeV)&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Tapahtumia/GeV&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="nn">Input In [5],</span> in <span class="ni">&lt;cell line: 3&gt;</span><span class="nt">()</span>
<span class="g g-Whitespace">      </span><span class="mi">1</span> <span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="ne">----&gt; </span><span class="mi">3</span> <span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">invariantti_massa</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">60</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">4</span> <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Kahden myonin invariantti massa&#39;</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">5</span> <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Invariantti massa (GeV)&#39;</span><span class="p">)</span>

<span class="ne">NameError</span>: name &#39;invariantti_massa&#39; is not defined
</pre></div>
</div>
</div>
</div>
<blockquote>
<div><p>Mitä invariantin massan histogrammi kertoo?
<br>
Miksi noin 90 GeV kohdalla on enemmän tapahtumia kuin muualla?</p>
</div></blockquote>
</section>
<section id="lahteet">
<h3>Lähteet<a class="headerlink" href="#lahteet" title="Permalink to this headline">#</a></h3>
<p>[1] Thomas McCauley (2016). Zmumu. Jupyter Notebook file.
Url: https://github.com/tpmccauley/cmsopendata-jupyter/blob/hst-0.1/Zmumu.ipynb</p>
<p>[2]  CMS collaboration (2016). DoubleMu primary dataset in AOD format from RunA of 2011 (/DoubleMu/Run2011A-12Oct2013-v1/AOD). CERN Open Data Portal. DOI: <a class="reference external" href="http://doi.org/10.7483/OPENDATA.CMS.RZ34.QR6N">10.7483/OPENDATA.CMS.RZ34.QR6N</a>.</p>
<p>[3] Hiukkasfysiikan sanastoa englanniksi
Url: https://atlas.cern/glossary</p>
<p>[4] Determination of the off-shell Higgs boson signal strength in the high-mass ZZ final state with the ATLAS detector.
Url: https://atlas.cern/updates/physics-briefing/higgs-boson-s-shadow</p>
</section>
<section id="kuvat">
<h3>Kuvat<a class="headerlink" href="#kuvat" title="Permalink to this headline">#</a></h3>
<p>[Kuva 1] HLT Dimuon Invariant Mass Distributions in 2017 and 2018 ( CMS DP-2018/055)
Url: https://twiki.cern.ch/twiki/bin/view/CMSPublic/HLTDiMuon2017and2018</p>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./harjoitukset"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="alkeet.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Alkeet</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="02_HistogramminPiirto.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">2. Histogrammin piirto</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By HIP Education and Open Data Team<br/>
  
    <div class="extra_footer">
      <div>
<a>Toteutettu Opetushallituksen valtionavustuksella tiedekasvatuksen edistämiseen.</a></br><a href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img class="license" alt="Creative Commons License" src="https://i.creativecommons.org/l/by-nc-sa/4.0/80x15.png" /></a> Tämän sivuston materiaali on käytettävissä seuraavalla lisenssillä: <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC-BY 4.0.</a>
</div>

    </div>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>